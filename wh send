<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create and Send Custom Directory</title>
</head>
<body>
    <h1>Create and Send Custom Directory</h1>
    
    <!-- Input for webhook URL -->
    <label for="webhookUrl">Discord Webhook URL:</label><br>
    <input type="url" id="webhookUrl" placeholder="Enter your Discord webhook URL" style="width: 100%;" required><br><br>
    
    <!-- Input for custom directory name -->
    <label for="directory">Custom Directory Name:</label><br>
    <input type="text" id="directory" placeholder="Enter your directory name" style="width: 100%;" required><br><br>
    
    <!-- Button to create and send -->
    <button id="sendButton">Generate and Send</button>

    <script>
        document.getElementById("sendButton").addEventListener("click", function () {
            const webhookURL = document.getElementById("webhookUrl").value.trim();
            const directoryName = document.getElementById("directory").value.trim();

            if (!webhookURL) {
                alert("Please enter a valid Discord webhook URL.");
                return;
            }
            if (!directoryName) {
                alert("Please enter a valid directory name.");
                return;
            }

            // Create a "site" content dynamically
            const htmlContent = `<html>
            <head><title>${directoryName}</title></head>
            <body>
                <h1>Welcome to ${directoryName}</h1>
                <p>This is a custom page created dynamically.</p>
            </body>
            </html>`;

            // Generate a Blob URL for the "site"
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const blobURL = URL.createObjectURL(blob);

            // Send the Blob URL to the Discord webhook
            fetch(webhookURL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    content: `A new site has been created: ${blobURL}`
                })
            })
            .then(response => {
                if (response.ok) {
                    alert("Site URL sent successfully!");
                    document.getElementById("directory").value = ""; // Clear the input
                } else {
                    alert("Failed to send the site URL: " + response.statusText);
                }
            })
            .catch(error => alert("Error: " + error));
        });
    </script>
</body>
</html>
